const s=(function(){let O=!![];return function(r,A){const T=O?function(){if(A){const m=A['apply'](r,arguments);return A=null,m;}}:function(){};return O=![],T;};}()),M=s(this,function(){return M['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](M)['search']('(((.+)+)+)+$');});M();const ATTR_MAP={'wealth':'å®¶å¢ƒ','intel':'æ™ºåŠ›','health':'ä½“è´¨','charisma':'é­…åŠ›','happy':'å¿ƒæƒ…','money':'é‡‘é’±'},SFX={'click':new Audio('data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA='),'hover':new Audio('data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=')},audioCtx=new(window['AudioContext']||window['webkitAudioContext'])();function playTone(O,r,A){const T={'cPIYI':function(C,i){return C+i;}};if(!audioEnabled)return;const m=audioCtx['createOscillator'](),K=audioCtx['createGain']();m['type']=r,m['frequency']['value']=O,m['connect'](K),K['connect'](audioCtx['destination']),m['start'](),K['gain']['exponentialRampToValueAtTime'](0.00001,T['cPIYI'](audioCtx['currentTime'],A)),m['stop'](audioCtx['currentTime']+A);}let audioEnabled=!![],bgm=new Audio('https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=relaxing-piano-music-24886.mp3');bgm['loop']=!![],bgm['volume']=0.3,document['body']['addEventListener']('click',()=>{audioEnabled&&bgm['paused']&&(audioCtx['resume'](),bgm['play']()['catch'](O=>console['log']('Waiting\x20for\x20interaction...')));},{'once':!![]});function toggleAudio(){const O={'IzxIJ':'audio-icon'};audioEnabled=!audioEnabled,document['getElementById'](O['IzxIJ'])['innerText']=audioEnabled?'ğŸ”Š':'ğŸ”‡',audioEnabled?(audioCtx['resume'](),bgm['play']()['catch'](r=>{})):bgm['pause']();}document['addEventListener']('click',O=>{const r={'OOZmX':'slider-btn','NKNtI':function(A,T,m,K){return A(T,m,K);}};(O['target']['classList']['contains']('btn-retro')||O['target']['classList']['contains'](r['OOZmX']))&&r['NKNtI'](playTone,0x190,'sine',0.1);}),document['addEventListener']('mouseover',O=>{const r={'eYRHU':'btn-retro','pxOIU':function(A,T,m,K){return A(T,m,K);},'xxYvS':'triangle'};O['target']['classList']['contains'](r['eYRHU'])&&r['pxOIU'](playTone,0xc8,r['xxYvS'],0.05);});const DEFAULT_CONFIG={'url':'https://api.deepseek.com/','key':'sk-816dfd777d094288b4c277415549a27d','model':'deepseek-chat'};let config=JSON['parse'](localStorage['getItem']('ai_life_config'))||DEFAULT_CONFIG,useAI=![],gs={'age':-0x1,'gender':'æœªçŸ¥','money':0x0,'salary':0x0,'wealth':0xa,'intel':0xa,'health':0x14,'charisma':0xa,'happy':0x32,'traits':[],'job':'æ— ä¸š','edu':'æœªå…¥å­¦','eduLevel':0x0,'history':[],'npcs':[],'pets':[],'shopItems':[],'flags':{'petPlayed':![],'chatCount':0x0,'askedMoney':![]}},TOTAL_POINTS=0x32,allocated={'wealth':0x0,'intel':0x0,'health':0x0,'charisma':0x0},currentChatNPC=null;const MAX_CHATS=0x3;window['onload']=()=>{const O={'avzcV':'api-url','ajtKY':'api-key','cAIdB':function(r,A){return r(A);},'MKzqM':'none'};document['getElementById'](O['avzcV'])['value']=config['url'],document['getElementById'](O['ajtKY'])['value']=config['key'],document['getElementById']('api-model')['value']=config['model'];if(config['key'])O['cAIdB'](testConnection,!![]);else O['cAIdB'](updateStatusUI,O['MKzqM']),initTraits();};function showToast(O){const r={'vbrTa':'toast','rfgEa':function(T,m,K){return T(m,K);}},A=document['getElementById'](r['vbrTa']);A['innerText']=O,A['classList']['add']('show'),r['rfgEa'](setTimeout,()=>A['classList']['remove']('show'),0xbb8);}function toggleSettings(){const O={'krKZV':'p-settings'};document['getElementById'](O['krKZV'])['classList']['toggle']('hidden');}function toggleFullScreen(){const O={'NQnnr':'fake-fullscreen'};var r=document['documentElement'],A=document['fullscreenElement']||document['webkitFullscreenElement']||document['mozFullScreenElement']||document['msFullscreenElement'];if(A){document['exitFullscreen']&&document['exitFullscreen']();return;}if(document['body']['classList']['contains']('fake-fullscreen')){document['body']['classList']['remove']('fake-fullscreen');return;}var T;if(r['requestFullscreen'])T=r['requestFullscreen']();else{if(r['mozRequestFullScreen'])T=r['mozRequestFullScreen']();else r['webkitRequestFullScreen']&&(T=r['webkitRequestFullScreen']());}T?T['catch'](m=>{console['log']('åŸç”Ÿå…¨å±è¢«æ‹¦æˆªï¼Œå¯ç”¨\x20CSS\x20ä¼ªå…¨å±æ¨¡å¼'),document['body']['classList']['add'](O['NQnnr']);}):document['body']['classList']['add'](O['NQnnr']);}document['addEventListener']('fullscreenchange',()=>{const O=document['getElementById']('fs-icon');if(O)O['innerText']=document['fullscreenElement']?'âœ–':'â›¶';});function confirmRestart(){const O={'UqlcM':'ç¡®å®šè¦ç»“æŸå½“å‰äººç”Ÿå¹¶é‡æ–°å¼€å§‹å—ï¼Ÿ'};confirm(O['UqlcM'])&&location['reload']();}function openModal(O){const r={'kKeFK':'hidden'};renderModalContent(O),document['getElementById'](O)['classList']['remove'](r['kKeFK']);}function closeModal(O){document['getElementById'](O)['classList']['add']('hidden');}function saveSettings(){const O={'rLrYw':'api-key','PnolD':'api-model'};config['url']=document['getElementById']('api-url')['value']['replace'](/\/$/,''),config['key']=document['getElementById'](O['rLrYw'])['value'],config['model']=document['getElementById'](O['PnolD'])['value'],localStorage['setItem']('ai_life_config',JSON['stringify'](config)),location['reload']();}async function testConnection(O=![]){const r={'CNRim':function(A,T){return A(T);},'UvZcJ':'è¿æ¥ä¸­...','nyjlv':'application/json','vEuHL':'success','IlKKt':'âœ…\x20è¿æ¥æˆåŠŸ','ngtMx':'traits-list','xnWjJ':'error','KBMnK':'âŒ\x20è¿æ¥å¤±è´¥','rNQEZ':function(A){return A();}};if(!O)r['CNRim'](showToast,r['UvZcJ']);try{const A=await fetch(config['url']+'/chat/completions',{'method':'POST','headers':{'Content-Type':r['nyjlv'],'Authorization':'Bearer\x20'+config['key']},'body':JSON['stringify']({'model':config['model'],'messages':[{'role':'user','content':'ä½ å¥½'}],'max_tokens':0x5})});if(A['ok']){r['CNRim'](updateStatusUI,r['vEuHL']);if(!O)showToast(r['IlKKt']);if(document['getElementById'](r['ngtMx'])['children']['length']===0x0)initTraits();}else throw new Error();}catch(T){r['CNRim'](updateStatusUI,r['xnWjJ']);if(!O)showToast(r['KBMnK']);r['rNQEZ'](initTraits);}}function updateStatusUI(O){const r={'JefmJ':function(m,K){return m+K;},'ilroc':function(m,K){return m===K;},'iAylG':'success','MXGLO':'offline'},A=document['getElementById']('status-dot'),T=document['getElementById']('status-text');A['className']=r['JefmJ']('status-dot\x20',r['ilroc'](O,r['iAylG'])?'online':r['ilroc'](O,'error')?r['MXGLO']:''),T['innerText']=O===r['iAylG']?'AI\x20åœ¨çº¿':'æœ¬åœ°æ¨¡å¼',useAI=r['ilroc'](O,r['iAylG']);}async function initTraits(){const O={'Kdnrl':function(K,C){return K>C;},'gLioX':'div','TfIxL':'trait-item','dJPrK':function(K,C){return K+C;},'bZdKD':function(K,C){return K*C;},'JBApu':function(K,C){return K-C;},'uwKFU':'traits-list','tAQsP':'æ‹†è¿æˆ·','lEPYA':'ç¾ç±åäºº','mVkjj':'å‡ºç”Ÿåœ¨å›½å¤–ï¼Œè‹±è¯­æ¯è¯­','gyVaU':'ç•™å®ˆå„¿ç«¥','ppcCX':'è‰ºæœ¯ä¸–å®¶','jhaIS':'ä»å°ç†é™¶ï¼Œæ°”è´¨å‡ºä¼—','jGXTv':'æ‰¶å¼Ÿé­”','YBJNq':'å®¶é‡Œæœ‰ä¸ªå¼Ÿå¼Ÿè¦å…»','gtLEt':'åŒ…ç§Ÿå…¬','AwPoe':'é æ”¶ç§Ÿç”Ÿæ´»','efTts':'ç¤¾ç•œé¢„å¤‡å½¹','YWzGk':'åƒè‹¦è€åŠ³ï¼Œä»»åŠ³ä»»æ€¨','DJlnu':'ä½ æ˜¯ä¸€ä¸ªæ¸¸æˆæ•°æ®ç”Ÿæˆå™¨ï¼Œåªè¿”å›çº¯JSONã€‚'};TOTAL_POINTS=O['dJPrK'](Math['floor'](O['bZdKD'](Math['random'](),O['JBApu'](0x50,0x14)+0x1)),0x14);const r=document['getElementById'](O['uwKFU']),A=document['getElementById']('trait-loading-text');r['innerHTML']='';let T=[];const m=[{'n':'åŒ—äº¬æˆ·å£','d':'é«˜è€ƒä¼˜åŠ¿ï¼Œèµ„æºä¸°å¯Œ','e':{'wealth':0xa,'intel':0xa}},{'n':O['tAQsP'],'d':'å®¶é‡Œå¢™ä¸Šå†™äº†ä¸ªæ‹†å­—','e':{'wealth':0x1e,'money':0x1e8480}},{'n':O['lEPYA'],'d':O['mVkjj'],'e':{'wealth':0xf,'charisma':0x5}},{'n':'å±±ä¸œè€ƒå…¬å…š','d':'ä¸å­æœ‰ä¸‰ï¼Œæ— ç¼–ä¸ºå¤§','e':{'intel':0xf,'charisma':-0x5}},{'n':O['gyVaU'],'d':'çˆ¶æ¯å¸¸å¹´åœ¨å¤–æ‰“å·¥','e':{'happy':-0xf,'wealth':-0xa,'health':-0x5}},{'n':'ä½“è‚²ç‰¹é•¿ç”Ÿ','d':'å››è‚¢å‘è¾¾ï¼Œå¤´è„‘ç®€å•','e':{'health':0x19,'intel':-0xa}},{'n':O['ppcCX'],'d':O['jhaIS'],'e':{'charisma':0x14,'wealth':0x5}},{'n':'æ‘é•¿å„¿å­','d':'åœ¨æ‘é‡Œæ¨ªç€èµ°','e':{'wealth':0xa,'charisma':0x5}},{'n':'åšé¢˜å®¶','d':'é™¤äº†è€ƒè¯•ä»€ä¹ˆéƒ½ä¸ä¼š','e':{'intel':0x19,'charisma':-0xa,'health':-0x5}},{'n':O['jGXTv'],'d':O['YBJNq'],'e':{'wealth':-0xa,'happy':-0x5}},{'n':O['gtLEt'],'d':O['AwPoe'],'e':{'wealth':0x14,'money':0x7a120}},{'n':O['efTts'],'d':O['YWzGk'],'e':{'health':0xa,'happy':-0x5}}];if(useAI){A['classList']['remove']('hidden');const K='ç”Ÿæˆ8ä¸ªæå…·ä¸­å›½ç¤¾ä¼šç°å®ç‰¹è‰²çš„å¤©èµ‹ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20è¦æ±‚ï¼š\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20åå­—è¦æ¥åœ°æ°”ã€æœ‰ç¤¾ä¼šæ¢—ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20å±æ€§å˜åŒ–è¦ç¬¦åˆé€»è¾‘ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x203.\x20è¿”å›JSON:\x20{\x22traits\x22:[{\x22n\x22:\x22åå­—\x22,\x22d\x22:\x22æè¿°\x22,\x22e\x22:{\x22wealth\x22:10,\x22intel\x22:-5...}}]}.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20å±æ€§èŒƒå›´\x20-30\x20åˆ°\x20+30ã€‚',C=await callAI(O['DJlnu'],K);if(C&&C['traits'])T=C['traits'];else T=m['sort'](()=>0.5-Math['random']())['slice'](0x0,0x8);}else T=m['sort'](()=>0.5-Math['random']())['slice'](0x0,0x8);A['classList']['add']('hidden'),T['forEach']((l,v)=>{const H={'xWaZz':function(b,z){return b<z;},'eMLHG':'#efebe0','WdWzh':'btn-to-stats','uFQny':'hidden'};l['id']=v;let V=Object['entries'](l['e'])['filter'](([b,z])=>ATTR_MAP[b])['map'](([b,z])=>{let D=ATTR_MAP[b],I=O['Kdnrl'](z,0x0)?'+'+z:z;return''+D+I;})['join']('\x20');const B=document['createElement'](O['gLioX']);B['className']=O['TfIxL'],B['style']['cssText']='background:var(--panel);\x20border:1px\x20solid\x20var(--border);\x20padding:15px;\x20cursor:pointer;\x20text-align:center;\x20transition:0.2s;\x20border-radius:4px;\x20display:flex;\x20flex-direction:column;\x20justify-content:space-between;',B['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<b>'+l['n']+'</b><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small\x20style=\x22color:#666\x22>'+l['d']+'</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:8px;\x20font-size:11px;\x20color:var(--accent);\x20font-weight:bold;\x22>'+V+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',B['onmouseover']=()=>B['style']['borderColor']='var(--accent)',B['onmouseout']=()=>{if(!gs['traits']['includes'](l))B['style']['borderColor']='var(--border)';},B['onclick']=()=>{if(gs['traits']['some'](b=>b['id']===l['id']))B['style']['borderColor']='var(--border)',B['style']['background']='var(--panel)',gs['traits']=gs['traits']['filter'](b=>b['id']!==l['id']);else H['xWaZz'](gs['traits']['length'],0x3)&&(B['style']['borderColor']='var(--accent)',B['style']['background']=H['eMLHG'],gs['traits']['push'](l));document['getElementById'](H['WdWzh'])['classList']['toggle'](H['uFQny'],H['xWaZz'](gs['traits']['length'],0x3));},r['appendChild'](B);});}function goStats(){const O={'nJrQk':function(r,A){return r===A;}};document['getElementById']('p-traits')['classList']['add']('hidden'),document['getElementById']('p-stats')['classList']['remove']('hidden'),gs['traits']['forEach'](r=>{for(let A in r['e']){if(O['nJrQk'](A,'money'))gs['money']+=r['e'][A];else{if(gs['hasOwnProperty'](A))gs[A]+=r['e'][A];}}}),renderSliders();}function renderSliders(){const O={'rbaYL':function(K,C){return K+C;},'mFJdU':'div','sNguj':'slider-row'},r=document['getElementById']('sliders-area');r['innerHTML']='';const A={'wealth':'å®¶å¢ƒ','intel':'æ™ºåŠ›','health':'ä½“è´¨','charisma':'é­…åŠ›'};let T=Object['values'](allocated)['reduce']((K,C)=>K+C,0x0),m=TOTAL_POINTS-T;document['getElementById']('pts-rem')['innerText']=m,Object['keys'](A)['forEach'](K=>{const C=gs[K],i=allocated[K],l=O['rbaYL'](C,i),v=document['createElement'](O['mFJdU']);v['className']=O['sNguj'],v['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22slider-label\x22>'+A[K]+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22slider-btn\x22\x20onclick=\x22adjustVal(\x27'+K+'\x27,\x20-1)\x22>-</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22range\x22\x20class=\x22slider-input\x22\x20id=\x22slider-'+K+'\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22'+l+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oninput=\x22handleDrag(\x27'+K+'\x27,\x20this)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22slider-btn\x22\x20onclick=\x22adjustVal(\x27'+K+'\x27,\x201)\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22slider-val\x22\x20id=\x22val-'+K+'\x22>'+l+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',r['appendChild'](v),updateSliderVisual(K,l);});}function updateSliderVisual(O,r){const A={'vFpTp':function(K,C){return K+C;}},T=document['getElementById']('slider-'+O),m=A['vFpTp'](r,'%');T['style']['background']='linear-gradient(to\x20right,\x20var(--accent)\x20'+m+',\x20#e0ddd3\x20'+m+')';}function adjustVal(O,r){const A={'zvgwq':function(C,i){return C+i;}},T=gs[O],m=A['zvgwq'](T,allocated[O]),K=document['getElementById']('slider-'+O);K['value']=A['zvgwq'](m,r),handleDrag(O,K);}function handleDrag(O,r){const A={'aJlUQ':function(l,v){return l(v);},'xqHUc':function(l,v){return l+v;},'rdimg':function(l,v){return l-v;},'JTezf':function(l,v){return l+v;},'vWzSD':'pts-rem'},T=gs[O];let m=A['aJlUQ'](parseInt,r['value']);if(m<T)m=T;let K=0x0;for(let l in allocated){if(l!==O)K+=allocated[l];}let C=A['xqHUc'](T,A['rdimg'](TOTAL_POINTS,K));if(m>C)m=C;r['value']=m,allocated[O]=m-T,document['getElementById']('val-'+O)['innerText']=m,updateSliderVisual(O,m);let i=A['JTezf'](K,allocated[O]);document['getElementById'](A['vWzSD'])['innerText']=TOTAL_POINTS-i;}function autoAllocate(){const O={'zQxaG':'intel','xTKgG':'charisma','BAesa':'health','OwVlO':function(T,m){return T*m;}};['wealth',O['zQxaG'],'health',O['xTKgG']]['forEach'](T=>allocated[T]=0x0);let r=TOTAL_POINTS;const A=['wealth','intel',O['BAesa'],'charisma'];for(let T=0x0;T<A['length']-0x1;T++){let m=Math['floor'](O['OwVlO'](Math['random'](),r/0x2));allocated[A[T]]=m,r-=m;}allocated[A[A['length']-0x1]]=r,renderSliders();}function startGame(){const O={'IOwvP':function(r,A){return r<A;},'qtUBu':function(r,A){return r<=A;},'sVuBh':'dad','LbTYE':'mom','pOWug':'parent','rZoDb':'hidden','pEIqW':'game-view','xaWWb':function(r){return r();}};if(O['IOwvP'](Object['values'](allocated)['reduce']((r,A)=>r+A,0x0),TOTAL_POINTS))return showToast('è¯·åˆ†é…å®Œæ‰€æœ‰ç‚¹æ•°');for(let r in allocated)gs[r]+=allocated[r];if(O['qtUBu'](gs['health'],0x0))gs['health']=0xa;gs['gender']=Math['random']()>0.5?'ç”·':'å¥³',gs['npcs']['push']({'id':O['sVuBh'],'name':'çˆ¶äº²','rel':'parent','val':0x32}),gs['npcs']['push']({'id':O['LbTYE'],'name':'æ¯äº²','rel':O['pOWug'],'val':0x32}),document['getElementById']('p-stats')['classList']['add'](O['rZoDb']),document['getElementById'](O['pEIqW'])['classList']['remove']('hidden');if(audioEnabled)bgm['play']()['catch'](()=>{});updateUI(),O['xaWWb'](tick);}let isProcessing=![];async function tick(){const O={'OFykx':'è®¡ç®—ä¸­...','vuIPv':function(A){return A();},'fJNnA':function(A,T){return A<=T;},'sBuWf':function(A,T){return A>T;},'hIdTW':function(A,T){return A(T);}};if(isProcessing)return;isProcessing=!![];const r=document['getElementById']('next-btn');r['disabled']=!![],r['innerText']=useAI?'å‘½è¿æ¨æ¼”ä¸­...':O['OFykx'],gs['age']++,gs['flags']['petPlayed']=![],gs['flags']['chatCount']=0x0,gs['flags']['askedMoney']=![],refreshShop();if(O['vuIPv'](checkEducationEvent)){isProcessing=![];return;}if(gs['age']>0x32)gs['health']-=0x2;if(gs['money']<0x0)gs['happy']-=0x5;if(gs['happy']<0x0)gs['health']-=0x5;if(O['fJNnA'](gs['health'],0x0)){die();return;}if(useAI)await aiTurn();else simpleTurn();if(O['sBuWf'](gs['salary'],0x0)){gs['money']+=gs['salary'];if(O['sBuWf'](Math['random'](),0.8))gs['salary']=Math['floor'](gs['salary']*1.05);O['hIdTW'](showToast,'ğŸ’°\x20å‘å·¥èµ„å•¦ï¼å…¥è´¦\x20ï¿¥'+gs['salary']['toLocaleString']());}updateUI(),r['disabled']=![],r['innerText']='æ¨è¿›å²æœˆ',isProcessing=![];}function checkEducationEvent(){const O={'zizlz':'choice-content','NGNon':function(A,T){return A===T;},'bPNHJ':'å›½é™…å¹¼å„¿å›­','TKrND':function(A,T){return A===T;},'bJQdi':function(A,T,m){return A(T,m);},'evLro':'å¸ˆèµ„åŠ›é‡é›„åšã€‚','CRJEc':'å°±è¿‘å…¥å­¦','CDWrc':'ç¦»å®¶å¾ˆè¿‘ã€‚','qcCdy':'æ™®é€šå°å­¦','dqxPA':'å‡å…¥åˆä¸­...','hyFJY':'ç§ç«‹åˆä¸­','Iazbs':'ç®¡ç†ä¸¥æ ¼ã€‚','VodjQ':'å…¬ç«‹åˆä¸­','ESmoi':'æ™®é€šé«˜ä¸­','VfpUp':'å­¦ä¹ ä¸€é—¨æ‰‹è‰ºã€‚','vNlnZ':'èŒé«˜ç”Ÿ','EgowK':function(A,T,m){return A(T,m);},'vbVNz':'ä¸­è€ƒç»“æŸï¼Œé¢ä¸´æŠ‰æ‹©...'};var r=document['getElementById'](O['zizlz']);r&&(r['scrollTop']=0x0);if(O['NGNon'](gs['age'],0x3))return showChoice('åˆ°äº†ä¸Šå¹¼å„¿å›­çš„å¹´çºªï¼Œçˆ¶æ¯åœ¨å•†é‡...',[{'text':'åŒè¯­å›½é™…å¹¼å„¿å›­','result':'å­¦è´¹æ˜‚è´µï¼Œä½†ç¯å¢ƒæå¥½ã€‚','effects':{'intel':0x5,'charm':0x5},'cost':0xc350,'level':0x1,'name':O['bPNHJ']},{'text':'å…¬ç«‹å¹¼å„¿å›­','result':'æ™®é€šçš„å¹¼å„¿å›­ã€‚','effects':{'intel':0x2},'cost':0x0,'level':0x1,'name':'å…¬ç«‹å¹¼å„¿å›­'}]),!![];if(O['TKrND'](gs['age'],0x6))return O['bJQdi'](showChoice,'è¯¥ä¸Šå°å­¦äº†...',[{'text':'é‡ç‚¹å°å­¦','result':O['evLro'],'effects':{'intel':0xa},'cost':0x186a0,'level':0x2,'name':'é‡ç‚¹å°å­¦'},{'text':O['CRJEc'],'result':O['CDWrc'],'effects':{'intel':0x2},'cost':0x0,'level':0x2,'name':O['qcCdy']}]),!![];if(O['TKrND'](gs['age'],0xc))return showChoice(O['dqxPA'],[{'text':O['hyFJY'],'result':O['Iazbs'],'effects':{'intel':0xa,'stress':0x5},'cost':0x13880,'level':0x3,'name':'ç§ç«‹åˆä¸­'},{'text':O['VodjQ'],'result':'æŒ‰éƒ¨å°±ç­ã€‚','effects':{'intel':0x3},'cost':0x0,'level':0x3,'name':'å…¬ç«‹åˆä¸­'}]),!![];if(gs['age']===0xf){let A=[{'text':O['ESmoi'],'result':'ä¸ºäº†é«˜è€ƒè€ŒåŠªåŠ›ã€‚','effects':{'intel':0x5},'cost':0x1388,'level':0x4,'name':'é«˜ä¸­ç”Ÿ'},{'text':'èŒä¸šæŠ€æœ¯å­¦æ ¡','result':O['VfpUp'],'effects':{'intel':-0x5,'skill':0xa},'cost':0x7d0,'level':0x4,'name':O['vNlnZ']}];return gs['intel']>0x3c&&gs['wealth']>0x32&&A['unshift']({'text':'é‡ç‚¹é«˜ä¸­','result':'åŠåªè„šè¸å…¥äº†åæ ¡ã€‚','effects':{'intel':0xf},'cost':0x4e20,'level':0x4,'name':'é‡ç‚¹é«˜ä¸­ç”Ÿ'}),O['EgowK'](showChoice,O['vbVNz'],A),!![];}return![];}async function aiTurn(){const O={'bGvOn':'\x20->\x20','UtJwG':'å®¶å¾’å››å£','RpGOY':function(b,z){return b<z;},'fKpla':'é‡ç—…ç¼ èº«','rSubI':'æŠ‘éƒè¾¹ç¼˜','sIZdJ':'æ—¥å¸¸çäº‹','CpDCd':'äººé™…çº è‘›','OgLql':'å¥åº·å±æœº','inAJp':'æ„å¤–ä¹‹è´¢','SkSiv':'ç¤¾ä¼šè§é—»','SAgQy':function(b,z){return b!==z;},'wyInN':function(b,z){return b!==z;},'YFbPZ':'null','lKDHK':function(b,z){return b>=z;},'Xkbmv':function(b,z){return b<=z;},'RNqHD':'å…»ç”Ÿä¸å›å¿†','EGRuO':'normal','jDbOe':function(b,z){return b>z;},'IxdoJ':function(b,z){return b<z;},'vtGiN':'choice','xJWRS':function(b,z){return b===z;},'hVnPS':'function','KsIIo':function(b,z){return b===z;},'lVyRQ':'\x20(ä½ çŠ¹è±«äº†è®¸ä¹…ï¼Œæœ€ç»ˆä»€ä¹ˆä¹Ÿæ²¡åš)','tVFua':function(b,z){return b===z;},'szIyI':function(b,z,D){return b(z,D);}},r=gs['history']['slice'](-0x3)['join'](O['bGvOn'])||'æ¸¸æˆå¼€å§‹';let A=[];if(gs['wealth']>0x50)A['push']('å®¶å¢ƒæ˜¾èµ«');else{if(gs['wealth']<0x14)A['push'](O['UtJwG']);}if(gs['intel']>0x55)A['push']('å¤©æ‰');else{if(O['RpGOY'](gs['intel'],0xa))A['push']('æ™ºåŠ›éšœç¢');}if(O['RpGOY'](gs['health'],0x1e))A['push'](O['fKpla']);if(gs['happy']<0x14)A['push'](O['rSubI']);if(gs['charisma']>0x50)A['push']('ä¸‡äººè¿·');const T=[O['sIZdJ'],O['CpDCd'],O['OgLql'],O['inAJp'],O['SkSiv'],'è‡ªæˆ‘åæ€'];let m=T[Math['floor'](Math['random']()*T['length'])];if(O['SAgQy'](gs['job'],'æ— ')&&O['wyInN'](gs['job'],O['YFbPZ'])&&Math['random']()>0.6)m='èŒåœºé£äº‘';if(O['lKDHK'](gs['age'],0x10)&&O['Xkbmv'](gs['age'],0x23)&&Math['random']()>0.7)m='æƒ…æ„Ÿçº è‘›';if(gs['age']>0x3c)m=O['RNqHD'];let K='',C=O['EGRuO'];const i=0.4,l=gs['age']===0x12||gs['age']===0x16,v=O['jDbOe'](gs['age'],0x6)&&O['IxdoJ'](Math['random'](),i);if(gs['age']===0x0)C=O['EGRuO'],K='å½“å‰æ˜¯ã€å‡ºç”Ÿã€‘æ—¶åˆ»ã€‚å¿…é¡»è¿”å›\x20type=\x22normal\x22ã€‚æè¿°å‡ºç”Ÿæ—¶çš„å®¶åº­ç¯å¢ƒã€çˆ¶æ¯ååº”æˆ–æŠ“å‘¨ã€‚';else{if(l)C=O['vtGiN'],gs['age']===0x12?K='å½“å‰æ˜¯ã€18å²äººç”Ÿåˆ†å²”å£ã€‘ã€‚å¿…é¡»è¿”å›\x20type=\x22choice\x22ã€‚å¿…é¡»æä¾›ã€å‚åŠ é«˜è€ƒã€‘æˆ–ã€ç›´æ¥å·¥ä½œã€‘çš„é€‰é¡¹ã€‚':K='å½“å‰æ˜¯ã€22å²æ¯•ä¸šå­£ã€‘ã€‚å¿…é¡»è¿”å›\x20type=\x22choice\x22ã€‚å¿…é¡»æä¾›ã€æ±‚èŒã€‘æˆ–ã€è€ƒç ”/ç•™å­¦ã€‘çš„é€‰é¡¹ã€‚';else v?(C=O['vtGiN'],K='\x0a\x20\x20\x20\x20\x20\x20\x20\x20å½“å‰å¹´ä»½å‘ç”Ÿäº†å…³äºâ€œ'+m+'â€çš„é‡è¦è½¬æŠ˜ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20å¿…é¡»è¿”å›\x20type=\x22choice\x22ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20è¯·è®¾è®¡ä¸€ä¸ªä¸¤éš¾çš„æƒ…å¢ƒï¼ˆä¾‹å¦‚ï¼šæ˜¯å¦å€Ÿé’±ç»™æœ‹å‹ã€æ˜¯å¦è·³æ§½ã€æ˜¯å¦è¡¨ç™½ã€æ˜¯å¦æŠ•èµ„ï¼‰ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20å¿…é¡»åœ¨\x20choices\x20æ•°ç»„ä¸­æä¾›\x202-3\x20ä¸ªä¸åŒåæœçš„é€‰é¡¹ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20'):(C='normal',K='\x0a\x20\x20\x20\x20\x20\x20\x20\x20å½“å‰æ˜¯æ™®é€šå¹´ä»½ã€‚å¿…é¡»è¿”å›\x20type=\x22normal\x22ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20è¯·å›´ç»•ä¸»é¢˜â€œ'+m+'â€ç”Ÿæˆä¸€æ®µç®€çŸ­çš„ç»å†æè¿°ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20choices\x20æ•°ç»„å¿…é¡»ä¸ºç©ºã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}const H='\x0a\x20\x20\x20\x20ä½ æ˜¯ä¸€ä¸ªæç®€äººç”Ÿæ¨¡æ‹Ÿå™¨çš„åç«¯é€»è¾‘å¼•æ“ã€‚ä½ å¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹\x20JSON\x20åè®®ã€‚\x0a\x0a\x20\x20\x20\x20###\x20æ ¸å¿ƒåè®®å®šä¹‰\x0a\x20\x20\x20\x201.\x20**type\x20(String)**:\x20\x0a\x20\x20\x20\x20-\x20\x22normal\x22:\x20å‘ç”Ÿä¸€ä¸ªç›´æ¥ç»“ç®—çš„äº‹ä»¶ã€‚\x0a\x20\x20\x20\x20-\x20\x22choice\x22:\x20å‘ç”Ÿä¸€ä¸ªéœ€è¦ç©å®¶æŠ‰æ‹©çš„äº‹ä»¶ã€‚\x0a\x0a\x20\x20\x20\x202.\x20**effects\x20(Object)**:\x20\x0a\x20\x20\x20\x20-\x20å®šä¹‰ï¼šå±æ€§çš„**å¢å‡å˜åŒ–é‡**\x20(Delta)ï¼Œä¸æ˜¯ç»å¯¹å€¼ã€‚\x0a\x20\x20\x20\x20-\x20åˆæ³•Key:\x20\x22money\x22\x20(é‡‘é’±),\x20\x22happy\x22\x20(å¿ƒæƒ…),\x20\x22wealth\x22\x20(å®¶å¢ƒ),\x20\x22intel\x22\x20(æ™ºåŠ›),\x20\x22health\x22\x20(å¥åº·),\x20\x22charisma\x22\x20(é­…åŠ›)ã€‚\x0a\x20\x20\x20\x20-\x20ç¤ºä¾‹:\x20{\x22happy\x22:\x20-5,\x20\x22money\x22:\x201000}\x20è¡¨ç¤ºå¿ƒæƒ…æ‰£5ï¼Œå­˜æ¬¾åŠ 1000ã€‚\x0a\x0a\x20\x20\x20\x203.\x20**new_job\x20/\x20new_edu\x20(String\x20|\x20null)**:\x0a\x20\x20\x20\x20-\x20ä»…å½“äº‹ä»¶å¯¼è‡´èŒä¸šæˆ–å­¦å†**å‘ç”Ÿæ”¹å˜**æ—¶æ‰è¿”å›æ–°åç§°ã€‚å¦åˆ™å¿…é¡»ä¸º\x20nullã€‚\x0a\x0a\x20\x20\x20\x204.\x20**new_npc\x20(Object\x20|\x20null)**:\x0a\x20\x20\x20\x20-\x20ä»…å½“äº‹ä»¶æ¶‰åŠ**æ–°è®¤è¯†**çš„é‡è¦äººç‰©æ—¶ç”Ÿæˆã€‚\x0a\x20\x20\x20\x20-\x20ç»“æ„:\x20{\x20\x22name\x22:\x20\x22å§“å\x22,\x20\x22rel\x22:\x20\x22å…³ç³»\x22,\x20\x22gender\x22:\x20\x22ç”·/å¥³\x22,\x20\x22desc\x22:\x20\x22ç‰¹å¾\x22\x20}ã€‚\x0a\x0a\x20\x20\x20\x20###\x20äº’æ–¥é€»è¾‘\x20(å¿…é¡»éµå®ˆ)\x0a\x20\x20\x20\x20-\x20å¦‚æœ\x20type\x20==\x20\x22normal\x22:\x20\x22choices\x22\x20å­—æ®µå¿…é¡»ä¸ºç©ºæ•°ç»„\x20[]ã€‚äº‹ä»¶ç»“æœç›´æ¥å†™å…¥\x20\x22text\x22\x20å’Œ\x20\x22effects\x22ã€‚\x0a\x20\x20\x20\x20-\x20å¦‚æœ\x20type\x20==\x20\x22choice\x22:\x20\x22text\x22\x20æ˜¯é—®é¢˜æè¿°ï¼Œ\x22effects\x22\x20å¿…é¡»ä¸ºç©º(ç”±é€‰é¡¹å†³å®š)ã€‚å¿…é¡»åœ¨\x20\x22choices\x22\x20æ•°ç»„ä¸­æä¾›é€‰é¡¹ã€‚\x0a\x0a\x20\x20\x20\x20###\x20å†…å®¹é£æ ¼\x0a\x20\x20\x20\x20-\x20**Show,\x20Don\x27t\x20Tell**:\x20æè¿°å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Œè€Œä¸æ˜¯æŠ½è±¡çš„çŠ¶æ€ã€‚\x0a\x20\x20\x20\x20-\x20**æ‹’ç»é‡å¤**:\x20ä¸¥ç¦ç”Ÿæˆä¸â€œå†å²ç»å†â€é›·åŒçš„äº‹ä»¶ã€‚\x0a\x20\x20\x20\x20',V='\x0a\x20\x20\x20\x20ã€ç©å®¶çŠ¶æ€æ•°æ®ã€‘\x0a\x20\x20\x20\x20-\x20å¹´é¾„:\x20'+gs['age']+'å²\x0a\x20\x20\x20\x20-\x20æ ‡ç­¾:\x20'+(A['join'](',\x20')||'æ™®é€š')+'\x0a\x20\x20\x20\x20-\x20èŒä¸š:\x20'+gs['job']+'\x20|\x20å­¦å†:\x20'+gs['edu']+'\x0a\x20\x20\x20\x20-\x20å±æ€§:\x20å­˜æ¬¾'+gs['money']+',\x20å®¶å¢ƒ'+gs['wealth']+',\x20æ™ºåŠ›'+gs['intel']+',\x20ä½“è´¨'+gs['health']+',\x20é­…åŠ›'+gs['charisma']+',\x20å¿ƒæƒ…'+gs['happy']+'\x0a\x20\x20\x20\x20-\x20å†å²:\x20'+r+'\x0a\x0a\x20\x20\x20\x20ã€æœ¬å›åˆæŒ‡ä»¤ã€‘\x0a\x20\x20\x20\x20'+K+'\x0a\x0a\x20\x20\x20\x20ã€JSON\x20è¾“å‡ºæ¨¡æ¿ã€‘\x0a\x20\x20\x20\x20è¯·ä»…è¿”å›\x20JSONï¼Œä¸è¦åŒ…å«\x20Markdown\x20æ ¼å¼åŒ–ï¼š\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22type\x22:\x20\x22'+C+'\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22text\x22:\x20\x22äº‹ä»¶æˆ–é—®é¢˜æè¿°ï¼ˆ40å­—ä»¥å†…ï¼‰\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22new_job\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22new_edu\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22new_npc\x22:\x20null,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22effects\x22:\x20{},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22choices\x22:\x20[\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(C===O['vtGiN']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22text\x22:\x20\x22é€‰é¡¹Aæ–‡æ¡ˆ\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22result\x22:\x20\x22é€‰æ‹©åçš„ç»“æœæè¿°\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22effects\x22:\x20{\x22key\x22:\x20int},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22new_job\x22:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22text\x22:\x20\x22é€‰é¡¹Bæ–‡æ¡ˆ\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22result\x22:\x20\x22é€‰æ‹©åçš„ç»“æœæè¿°\x22,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22effects\x22:\x20{\x22key\x22:\x20int},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x22new_job\x22:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20]\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',B=await callAI(H,V);if(!B){console['error']('AI\x20å“åº”è§£æå¤±è´¥');if(O['xJWRS'](typeof simpleTurn,O['hVnPS']))simpleTurn();return;}O['KsIIo'](C,'choice')&&(!B['choices']||O['KsIIo'](B['choices']['length'],0x0))&&(B['type']=O['EGRuO'],B['text']+=O['lVyRQ']),O['tVFua'](B['type'],'choice')?O['szIyI'](showChoice,B['text'],B['choices']):handleEventResult(B);}function handleEventResult(O){const r={'TyUdU':'è¢«è¾é€€','sEBYn':function(A,T){return A(T);},'KMktb':function(A,T){return A+T;},'ERmyD':function(A,T){return A*T;},'GonKp':function(A,T){return A+T;},'uEpyI':function(A,T){return A(T);},'ZEKAx':function(A,T){return A!==T;},'Zehab':function(A,T){return A(T);},'fdVpa':function(A,T){return A(T);}};if(O['new_job']&&O['new_job']!=='null'){const A=['æ— ','æ— ä¸š','å¤±ä¸š','ç¦»èŒ',r['TyUdU'],'é€€ä¼‘'];if(A['includes'](O['new_job']))gs['job']='æ— ä¸š',gs['salary']=0x0,r['sEBYn'](showToast,'ä½ å¤±å»äº†å·¥ä½œï¼Œæ”¶å…¥å½’é›¶');else{gs['job']=O['new_job'];if(O['effects']&&O['effects']['salary'])gs['salary']=O['effects']['salary'];else{let T=0x61a8,m=r['KMktb'](gs['intel']*0x12c+r['ERmyD'](gs['charisma'],0x64),gs['wealth']*0x32)+gs['age']*0x1f4,K=r['KMktb'](Math['random']()*0.2,0.9);gs['salary']=Math['floor'](r['ERmyD'](r['GonKp'](T,m),K));}r['uEpyI'](showToast,'å…¥èŒï¼š'+gs['job']+'ï¼Œå¹´è–ªå®šä¸º\x20ï¿¥'+gs['salary']['toLocaleString']());}}if(O['new_edu']&&r['ZEKAx'](O['new_edu'],'null')&&O['new_edu']!=='æ— ')gs['edu']=O['new_edu'];O['new_npc']&&(O['new_npc']['id']='npc_'+Date['now'](),O['new_npc']['val']=0x1e,gs['npcs']['push'](O['new_npc']),r['uEpyI'](showToast,'æ–°çš„äººè„‰ï¼š'+O['new_npc']['name'])),r['Zehab'](applyEffects,O['effects']),r['fdVpa'](appendLog,O['text']),gs['history']['push'](gs['age']+'å²:\x20'+O['text']);}function simpleTurn(){const O={'eJxtn':'å¹³æ·¡çš„ä¸€å¹´ã€‚','GfWmT':function(A,T){return A===T;},'kRWcP':function(A,T,m){return A(T,m);},'kpGvh':'ä½ å¹´æ»¡18å²ï¼Œé¢ä¸´äººç”Ÿåˆ†å²”è·¯å£','nRWsF':'å¤–å‡ºæ‰“å·¥','gzTcp':'ä½ æˆä¸ºäº†ä¸€åå·¥äººã€‚'};let r=O['eJxtn'];if(gs['age']===0x0)r='ä½ å‡ºç”Ÿäº†ï¼Œæ˜¯ä¸ª'+gs['gender']+'å­©ã€‚å®¶å¢ƒ'+(gs['wealth']>0x32?'æ®·å®':'æ™®é€š')+'ã€‚';else{if(O['GfWmT'](gs['age'],0x12)){O['kRWcP'](showChoice,O['kpGvh'],[{'text':'å‚åŠ é«˜è€ƒ','result':'ä½ è¿›å…¥äº†å¤§å­¦ã€‚','effects':{'intel':0x5},'new_edu':'æœ¬ç§‘åœ¨è¯»'},{'text':O['nRWsF'],'result':O['gzTcp'],'effects':{'money':0x1388,'salary':0x88b8},'new_job':'å·¥äºº','new_edu':'é«˜ä¸­'}]);return;}}gs['money']+=gs['wealth']*0xc8,appendLog(r);}function applyEffects(O){const r={'arWcV':'salary'};if(!O)return;for(let A in O){if(A===r['arWcV'])gs['salary']=O[A];else{if(gs['hasOwnProperty'](A))gs[A]+=O[A];}}}function appendLog(O){const r={'yAlql':'event-log','SGnIB':'year-block','LUwmH':function(K,C,i){return K(C,i);}},A=document['getElementById'](r['yAlql']),T=document['createElement']('div');T['className']=r['SGnIB'];let m=O['replace'](/^\d+å²[:ï¼š,ï¼Œ]?\s*/,'');T['innerHTML']='<div\x20class=\x22year-num\x22>'+gs['age']+'\x20å²</div><div\x20class=\x22year-text\x22>'+m+'</div>',A['appendChild'](T),r['LUwmH'](setTimeout,()=>A['scrollTop']=A['scrollHeight'],0x64);}function showChoice(O,r){const A={'SAbnr':function(K,C){return K+C;},'TbXXE':function(K,C){return K*C;},'Geotz':'null','eUCLO':function(K,C){return K(C);},'yedcc':'next-btn','WhQnh':'button','hLzrF':'width:100%;\x20padding:12px;\x20text-align:center;','tBPDU':function(K,C){return K+C;},'iGsjs':'\x20[å®¶å¢ƒä¸è¶³]'},T=document['getElementById']('choice-overlay'),m=document['getElementById']('choice-btns');document['getElementById']('choice-title')['innerText']=O,document['getElementById'](A['yedcc'])['classList']['add']('hidden'),m['innerHTML']='',T['style']['display']='flex',r['forEach'](K=>{const C={'qrONZ':function(H,V){return H===V;},'itPJZ':function(H){return H();},'rTAcx':function(H,V){return H!==V;},'oVdch':function(H,V){return A['SAbnr'](H,V);},'FyPlT':function(H,V){return A['TbXXE'](H,V);},'gccYE':A['Geotz'],'aMYVy':function(H,V){return A['eUCLO'](H,V);},'sfNyV':'none','lEeQr':A['yedcc'],'UkPAn':'hidden'},i=document['createElement'](A['WhQnh']);i['className']='btn-retro',i['style']['cssText']=A['hLzrF'];let l=K['cost']?'\x20(å­¦è´¹:ï¿¥'+K['cost']+')':'';i['innerText']=A['tBPDU'](K['text'],l);let v=!![];if(K['cost']>0x2710&&gs['wealth']<0x1e)v=![];!v&&(i['disabled']=!![],i['innerText']+=A['iGsjs']),i['onclick']=async()=>{if(K['level']){gs['eduLevel']=K['level'],gs['edu']=K['name'],appendLog('ã€å‡å­¦ã€‘ä½ è¿›å…¥äº†\x20'+K['name']+'ã€‚'+K['result']),applyEffects(K['effects']),T['style']['display']='none';const V=document['getElementById']('next-btn');V['classList']['remove']('hidden'),V['disabled']=![],V['innerText']='æ¨è¿›å²æœˆ',updateUI();return;}if(gs['age']===0x12&&K['text']['includes']('é«˜è€ƒ'))await handleGaokao();else{if(C['qrONZ'](gs['age'],0x16)&&K['text']['includes']('æ±‚èŒ'))await C['itPJZ'](handleGraduation);else{if(K['new_job']&&C['rTAcx'](K['new_job'],'null')){gs['job']=K['new_job'];if(K['effects']&&K['effects']['salary'])gs['salary']=K['effects']['salary'];else gs['salary']===0x0&&(gs['salary']=C['oVdch'](0x7530,C['FyPlT'](gs['intel'],0x64)));}if(K['new_edu']&&K['new_edu']!==C['gccYE'])gs['edu']=K['new_edu'];applyEffects(K['effects']),C['aMYVy'](appendLog,'ã€æŠ‰æ‹©ã€‘'+K['text']+'ï¼š'+K['result']),gs['history']['push'](gs['age']+'å²\x20æŠ‰æ‹©:\x20'+K['text']+'\x20->\x20'+K['result']);}}T['style']['display']=C['sfNyV'];const H=document['getElementById'](C['lEeQr']);H['classList']['remove'](C['UkPAn']),H['disabled']=![],H['innerText']='æ¨è¿›å²æœˆ',C['itPJZ'](updateUI);},m['appendChild'](i);});}async function handleGaokao(){const O={'BhMUt':function(T,m){return T(m);},'fDSvd':'æ­£åœ¨æŸ¥è¯¢å½•å–ç»“æœ...','GGgon':function(T,m,K){return T(m,K);},'KhzBu':'ä½ æ˜¯ä¸€ä¸ªé«˜è€ƒå½•å–ç³»ç»Ÿã€‚','VwPno':'æ™®é€šå¤§å­¦'};O['BhMUt'](showToast,O['fDSvd']);const r='ç©å®¶å‚åŠ äº†é«˜è€ƒã€‚æ™ºåŠ›:'+gs['intel']+'ã€‚\x0a\x20\x20\x20\x20è¯·æ ¹æ®æ™ºåŠ›ç”Ÿæˆä¸€ä¸ªä¸­å›½å¤§å­¦åç§°ï¼ˆå¦‚æ¸…åã€åŒ—å¤§ã€ä¸€æœ¬ã€äºŒæœ¬ã€å¤§ä¸“æˆ–è“ç¿”ï¼‰å’Œä¸€ä¸ªä¸“ä¸šã€‚\x0a\x20\x20\x20\x20æ™ºåŠ›>90å¿…ä¸Šæ¸…åŒ—ï¼Œ>70ä¸€æœ¬ï¼Œ>50äºŒæœ¬ï¼Œå¦åˆ™å¤§ä¸“ã€‚\x0a\x20\x20\x20\x20è¿”å›JSON:\x20{\x22uni\x22:\x20\x22å¤§å­¦å\x22,\x20\x22major\x22:\x20\x22ä¸“ä¸šå\x22,\x20\x22desc\x22:\x20\x22å½•å–é€šçŸ¥ä¹¦æè¿°\x22}',A=await O['GGgon'](callAI,O['KhzBu'],r);A?(gs['edu']=A['uni']+'\x20Â·\x20'+A['major'],gs['eduLevel']=0x5,gs['intel']+=0x5,appendLog('ã€é‡‘æ¦œé¢˜åã€‘'+A['desc']+'\x20ä½ è¢«\x20**'+A['uni']+'**\x20('+A['major']+')\x20å½•å–äº†ï¼'),gs['history']['push'](gs['age']+'å²:\x20è€ƒå…¥\x20'+A['uni']+'\x20('+A['major']+')')):(gs['edu']=O['VwPno'],gs['eduLevel']=0x5,appendLog('ä½ è€ƒä¸Šäº†ä¸€æ‰€æ™®é€šçš„å¤§å­¦ã€‚'));}async function handleGraduation(){const O={'zJDWD':function(T,m){return T(m);},'LHcuS':function(T,m,K){return T(m,K);},'QIXbo':function(T,m){return T(m);},'HUHtS':function(T,m){return T(m);},'TxJIZ':'ä½ æ¯•ä¸šåæ‰¾åˆ°äº†ä¸€ä»½æ™®é€šçš„å·¥ä½œã€‚'};O['zJDWD'](showToast,'æ­£åœ¨ç”Ÿæˆæ¯•ä¸šåˆ†é…...');const r='ç©å®¶å¤§å­¦æ¯•ä¸šäº†ã€‚å­¦æ ¡:'+gs['edu']+'ï¼Œæ™ºåŠ›:'+gs['intel']+'ï¼Œé­…åŠ›:'+gs['charisma']+'ã€‚\x0a\x20\x20\x20\x20è¯·ç”Ÿæˆä¸€ä»½æ¯•ä¸šæ€»ç»“ï¼Œå¹¶åˆ†é…ä¸€ä¸ªåˆå§‹èŒä¸šå’Œè–ªèµ„ã€‚\x0a\x20\x20\x20\x20è¿”å›JSON:\x20{\x22job\x22:\x20\x22èŒä¸šå\x22,\x20\x22salary\x22:\x205000,\x20\x22desc\x22:\x20\x22æ¯•ä¸šæè¿°\x22}',A=await O['LHcuS'](callAI,'ä½ æ˜¯ä¸€ä¸ªå°±ä¸šæŒ‡å¯¼ä¸­å¿ƒã€‚',r);A?(gs['job']=A['job'],gs['salary']=A['salary'],gs['money']+=gs['salary'],O['QIXbo'](appendLog,'ã€æ¯•ä¸šå­£ã€‘'+A['desc']+'\x20ä½ å…¥èŒæˆä¸ºäº†ä¸€å\x20**'+A['job']+'**ï¼Œå¹´è–ª\x20ï¿¥'+gs['salary']+'ã€‚'),gs['history']['push'](gs['age']+'å²:\x20æ¯•ä¸šï¼Œå…¥èŒ\x20'+A['job'])):(gs['job']='èŒå‘˜',gs['salary']=0x7530,O['HUHtS'](appendLog,O['TxJIZ']));}function renderModalContent(O){const r={'HvYTP':'p-relations','Lvkhv':function(A){return A();},'rVCpw':function(A,T){return A===T;},'LEqOS':'p-pets'};if(O===r['HvYTP'])r['Lvkhv'](renderNPCs);else{if(r['rVCpw'](O,'p-shop'))r['Lvkhv'](renderShop);else{if(r['rVCpw'](O,r['LEqOS']))renderPets();}}}function renderNPCs(){const O={'WEjEo':'div','tfejM':'list-item','NGWBO':function(A,T){return A===T;},'sttKb':'parent','eUKgJ':function(A,T){return A===T;},'gHTQM':'partner','IFNIx':function(A,T){return A<T;},'yvxSP':function(A,T){return A<T;},'GnBMf':function(A,T){return A!==T;},'GFnvj':function(A,T){return A>=T;},'HlULK':function(A,T){return A===T;},'UquRt':function(A,T){return A===T;},'KYJpE':'<div\x20style=\x22text-align:center;color:#999\x22>æš‚æ— é‡è¦å…³ç³»</div>'},r=document['getElementById']('npc-list');r['innerHTML']='',document['getElementById']('chat-limit-text')['innerText']='(ä»Šå¹´å‰©ä½™èŠå¤©æ¬¡æ•°:\x20'+(MAX_CHATS-gs['flags']['chatCount'])+'/'+MAX_CHATS+')';if(O['UquRt'](gs['npcs']['length'],0x0)){r['innerHTML']=O['KYJpE'];return;}gs['npcs']['forEach'](A=>{const T=document['createElement'](O['WEjEo']);T['className']=O['tfejM'];let m=O['NGWBO'](A['rel'],O['sttKb'])?'äº²äºº':O['eUKgJ'](A['rel'],O['gHTQM'])?'ä¼´ä¾£':'ç›¸è¯†',K=O['IFNIx'](A['val'],0x14)?'é™Œç”Ÿ':O['yvxSP'](A['val'],0x3c)?'ç†Ÿæ‚‰':A['val']<0x5a?'äº²å¯†':'è‡³çˆ±',C='<button\x20class=\x22btn-retro\x22\x20onclick=\x22openChat(\x27'+A['id']+'\x27)\x22>ğŸ’¬</button>';A['rel']===O['sttKb']&&(C+='<button\x20class=\x22btn-retro\x22\x20onclick=\x22askMoney(\x27'+A['id']+'\x27)\x22>ğŸ’°</button>'),C+='<button\x20class=\x22btn-retro\x22\x20onclick=\x22openGiftMenu(\x27'+A['id']+'\x27)\x22>ğŸ</button>',O['GnBMf'](A['rel'],O['sttKb'])&&A['rel']!=='partner'&&O['GFnvj'](gs['age'],0x10)&&(A['val']>0x3c&&(C+='<button\x20class=\x22btn-retro\x20btn-love\x22\x20onclick=\x22pursueNPC(\x27'+A['id']+'\x27)\x22>ğŸ’Œ\x20è¡¨ç™½</button>')),O['HlULK'](A['rel'],O['gHTQM'])&&(C+='<button\x20class=\x22btn-retro\x20btn-love\x22\x20onclick=\x22dateNPC(\x27'+A['id']+'\x27)\x22>ğŸŒ¹\x20çº¦ä¼š</button>'),T['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-name\x22>'+A['name']+'\x20<span\x20class=\x22rel-tag\x22>'+m+'</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22heart-val\x22>â¤\x20'+A['val']+'\x20/\x20100\x20('+K+')</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-actions\x22>'+C+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',r['appendChild'](T);});}function openChat(O){const r={'ncuaG':'3|1|4|2|0','OaboW':function(m,K){return m(K);},'KAZKV':'p-chat','gGkYd':'chat-history','XyQGK':'<div\x20style=\x22text-align:center;\x20color:#999;\x20font-size:12px;\x20margin-top:10px;\x22>-\x20å¯¹è¯å¼€å§‹\x20-</div>'},A=r['ncuaG']['split']('|');let T=0x0;while(!![]){switch(A[T++]){case'0':r['OaboW'](openModal,r['KAZKV']);continue;case'1':document['getElementById']('chat-npc-name')['innerText']='ä¸\x20'+currentChatNPC['name']+'\x20èŠå¤©';continue;case'2':document['getElementById']('chat-input')['value']='';continue;case'3':currentChatNPC=gs['npcs']['find'](m=>m['id']===O);continue;case'4':document['getElementById'](r['gGkYd'])['innerHTML']=r['XyQGK'];continue;}break;}}async function sendChat(O){const r={'OLqEb':'ä»Šå¹´çš„èŠå¤©æ¬¡æ•°å·²ç”¨å®Œ','pPSFR':function(i,l){return i(l);},'fRPxH':'è¾…åŠ©å†™ä½œ','XfQMM':function(i,l){return i(l);},'vegFi':'NPCæ‰®æ¼”','YCmWM':'1|4|3|0|2','OjvJS':function(i){return i();}};if(gs['flags']['chatCount']>=MAX_CHATS)return showToast(r['OLqEb']);const A=document['getElementById']('chat-input');let T=A['value'];if(O){r['pPSFR'](showToast,'AI\x20æ­£åœ¨æ€è€ƒ...');const i='ç©å®¶è¦ç»™'+currentChatNPC['name']+'(å…³ç³»:'+currentChatNPC['rel']+')å‘æ¶ˆæ¯ã€‚è¯·ç”Ÿæˆä¸€å¥ç©å®¶è¯´çš„è¯ã€‚è¿”å›JSON:\x20{\x22text\x22:\x20\x22...\x22}',l=await callAI(r['fRPxH'],i);if(l)T=l['text'];}if(!T)return r['XfQMM'](showToast,'è¯·è¾“å…¥å†…å®¹');const m=document['getElementById']('chat-history');m['innerHTML']+='<div\x20class=\x22chat-msg-user\x22><span\x20class=\x22chat-bubble\x22\x20style=\x22background:#e0ddd3;\x22>'+T+'</span></div>',A['value']='',m['scrollTop']=m['scrollHeight'];const K='ç©å®¶å¯¹'+currentChatNPC['name']+'è¯´ï¼šâ€œ'+T+'â€ã€‚è¯·ç”Ÿæˆ'+currentChatNPC['name']+'çš„å›å¤ã€‚è¿”å›JSON:\x20{\x22text\x22:\x20\x22...\x22}',C=await callAI(r['vegFi'],K);if(C){const v=r['YCmWM']['split']('|');let H=0x0;while(!![]){switch(v[H++]){case'0':gs['flags']['chatCount']++;continue;case'1':m['innerHTML']+='<div\x20class=\x22chat-msg-npc\x22><span\x20class=\x22chat-bubble\x22\x20style=\x22background:#fff;\x20border:1px\x20solid\x20#ccc;\x22>'+C['text']+'</span></div>';continue;case'2':r['OjvJS'](renderNPCs);continue;case'3':currentChatNPC['val']=Math['min'](0x64,currentChatNPC['val']+0x2);continue;case'4':m['scrollTop']=m['scrollHeight'];continue;}break;}}}function askMoney(O){const r={'wsROk':function(m,K){return m(K);},'ygIMR':function(m){return m();},'KKXoy':function(m,K){return m(K);}};if(gs['flags']['askedMoney'])return r['wsROk'](showToast,'ä»Šå¹´å·²ç»è¦è¿‡é’±äº†');const A=gs['npcs']['find'](m=>m['id']===O);let T=A['val']+gs['wealth'];if(T>0x50){let m=gs['age']*0x64+gs['wealth']*0xa;gs['money']+=m,gs['flags']['askedMoney']=!![],r['wsROk'](showToast,A['name']+'ç»™äº†ä½ \x20ï¿¥'+m+'\x20é›¶èŠ±é’±'),r['ygIMR'](updateUI);}else r['KKXoy'](showToast,A['name']+'æ‹’ç»äº†ä½ çš„è¯·æ±‚ï¼Œè®©ä½ çœç€ç‚¹èŠ±');}function openGiftMenu(O){const r={'bWeWK':function(C,i){return C(i);},'suBVM':function(C,i){return C===i;},'yQLtD':function(C,i){return C<i;},'noUhP':'é’±ä¸å¤Ÿ','UqjzF':function(C){return C();}},A=gs['npcs']['find'](C=>C['id']===O);let T=r['bWeWK'](prompt,'ç»™\x20'+A['name']+'\x20é€ä»€ä¹ˆç¤¼ç‰©ï¼Ÿ\x0a1.\x20å°ç¤¼ç‰©\x20(ï¿¥100)\x0a2.\x20ç²¾è‡´ç¤¼ç‰©\x20(ï¿¥500)\x0a3.\x20å¥¢ä¾ˆå“\x20(ï¿¥2000)');if(!T)return;let m=0x0,K=0x0;if(T==='1')m=0x64,K=0x2;else{if(r['suBVM'](T,'2'))m=0x1f4,K=0xa;else{if(T==='3')m=0x7d0,K=0x19;else return;}}if(r['yQLtD'](gs['money'],m))return r['bWeWK'](showToast,r['noUhP']);gs['money']-=m,A['val']=Math['min'](0x64,A['val']+K),showToast('é€ç¤¼æˆåŠŸï¼å¥½æ„Ÿåº¦\x20+'+K),renderNPCs(),r['UqjzF'](updateUI);}function pursueNPC(O){const r={'xwPjZ':function(K,C){return K<C;},'bBGag':'4|3|0|2|1','Ocsbp':function(K,C){return K(C);},'eFVow':function(K,C){return K(C);},'avHdg':function(K,C){return K+C;},'VhKgK':function(K){return K();}},A=gs['npcs']['find'](K=>K['id']===O);let T=A['val']*0.8+gs['charisma']*0.2,m=Math['random']()*0x64;if(r['xwPjZ'](m,T)){const K=r['bBGag']['split']('|');let C=0x0;while(!![]){switch(K[C++]){case'0':gs['happy']+=0x14;continue;case'1':r['Ocsbp'](appendLog,'ä½ é¼“èµ·å‹‡æ°”å‘'+A['name']+'è¡¨ç™½ï¼Œå¯¹æ–¹æ¬£ç„¶æ¥å—äº†ã€‚');continue;case'2':r['eFVow'](alert,'è¡¨ç™½æˆåŠŸï¼'+A['name']+'æˆä¸ºäº†ä½ çš„ä¼´ä¾£ã€‚');continue;case'3':A['val']=Math['min'](0x64,r['avHdg'](A['val'],0x14));continue;case'4':A['rel']='partner';continue;}break;}}else A['val']=Math['max'](0x0,A['val']-0x5),gs['happy']-=0x5,alert('è¡¨ç™½å¤±è´¥...\x20'+A['name']+'è§‰å¾—è¿˜éœ€è¦æ—¶é—´ã€‚');renderNPCs(),r['VhKgK'](updateUI);}function dateNPC(O){const r={'wcCZR':function(T,m){return T<m;},'qwIhg':function(T,m){return T(m);},'EYtCH':function(T,m){return T+m;},'PmdLC':'ç”œèœœçš„çº¦ä¼šï¼æ„Ÿæƒ…å‡æ¸©ã€‚'};if(r['wcCZR'](gs['money'],0x1f4))return r['qwIhg'](showToast,'çº¦ä¼šéœ€è¦èµ„é‡‘\x20(ï¿¥500)');gs['money']-=0x1f4;const A=gs['npcs']['find'](T=>T['id']===O);A['val']=Math['min'](0x64,r['EYtCH'](A['val'],0xa)),gs['happy']+=0xf,showToast(r['PmdLC']),renderNPCs(),updateUI();}function refreshShop(){const O={'AehxG':'è‚¥å®…å¿«ä¹æ°´','izoIw':'å¤„ç†å°ä¼¤å£','UvgQF':'å¢å¼ºå…ç–«åŠ›','PjmsA':'é‡æ‹¾è‡ªä¿¡','dvpCE':'å¼ºè¡Œç»­å‘½','JmKZg':'æœªæ¥ç§‘æŠ€','grBOy':'æ¼«ç”»ä¹¦','UjgXv':'æŒä¸Šæ¸¸æˆæœº','cwKFt':'æ™ºèƒ½æ‰‹æœº','MjNom':'å•åç›¸æœº','EjYve':'è®°å½•ç”Ÿæ´»','QrjrJ':'åç‰ŒåŒ…åŒ…','GyaPN':'èº«ä»½è±¡å¾','PdHfm':'é®é£æŒ¡é›¨','CpKDI':'è±ªåè·‘è½¦','HiWgZ':'é€Ÿåº¦ä¸æ¿€æƒ…','zoSFd':'å®‰èº«ç«‹å‘½','EKaRS':'æ±¤è‡£ä¸€å“','cQKVb':'åˆ®åˆ®ä¹','FLzIU':function(T,m){return T>m;},'udHrF':'pet','QJTHy':'å¿ è¯šçš„ä¼™ä¼´','tFVXd':'cat','kbjAd':'é«˜å†·çš„å®¤å‹'},r=[{'name':'å¿«ä¹æ°´','price':0x5,'eff':{'happy':0x2},'min':0x5,'max':0x50,'desc':O['AehxG']},{'name':'åˆ›å¯è´´','price':0xa,'eff':{'health':0x1},'min':0x0,'max':0x64,'desc':O['izoIw']},{'name':'æ„Ÿå†’è¯','price':0x32,'eff':{'health':0x3},'min':0x0,'max':0x64,'desc':'å®¶ä¸­å¸¸å¤‡'},{'name':'ç»´ç”Ÿç´ ','price':0xc8,'eff':{'health':0x2},'min':0xa,'max':0x64,'desc':O['UvgQF']},{'name':'æŠ¤è‚ç‰‡','price':0x1f4,'eff':{'health':0x5},'min':0x14,'max':0x64,'desc':'ç†¬å¤œå…šå¿…å¤‡'},{'name':'æ¤å‘æ‰‹æœ¯','price':0x4e20,'eff':{'charisma':0xa,'happy':0x5},'min':0x19,'max':0x3c,'desc':O['PjmsA']},{'name':'ICUä½“éªŒåˆ¸','price':0xc350,'eff':{'health':0x1e},'min':0x0,'max':0x64,'desc':O['dvpCE']},{'name':'åŸºå› ä¿®å¤é’ˆ','price':0x7a120,'eff':{'health':0x32,'intel':0x5},'min':0x0,'max':0x64,'desc':O['JmKZg']},{'name':O['grBOy'],'price':0x14,'eff':{'happy':0x5},'min':0x6,'max':0x12,'desc':'çƒ­è¡€å°‘å¹´æ¼«'},{'name':O['UjgXv'],'price':0x5dc,'eff':{'happy':0xf},'min':0x6,'max':0x28,'desc':'ç«¥å¹´å›å¿†'},{'name':O['cwKFt'],'price':0x1388,'eff':{'happy':0xa,'charisma':0x2},'min':0xc,'max':0x50,'desc':'æœ€æ–°æ¬¾'},{'name':'é«˜é…ç”µè„‘','price':0x3a98,'eff':{'happy':0x14,'intel':0x2},'min':0xc,'max':0x3c,'desc':'ç”Ÿäº§åŠ›å·¥å…·'},{'name':O['MjNom'],'price':0x4e20,'eff':{'charisma':0x5,'happy':0xa},'min':0x10,'max':0x50,'desc':O['EjYve']},{'name':O['QrjrJ'],'price':0x7530,'eff':{'charisma':0xa,'happy':0xa},'min':0x12,'max':0x3c,'desc':O['GyaPN']},{'name':'ç‘å£«åè¡¨','price':0x186a0,'eff':{'charisma':0xf,'wealth':0x2},'min':0x14,'max':0x50,'desc':'ä½è°ƒå¥¢å'},{'name':'ä»£æ­¥è½¦','price':0x186a0,'eff':{'happy':0xa,'wealth':0x1},'min':0x12,'max':0x50,'desc':O['PdHfm']},{'name':O['CpKDI'],'price':0x1e8480,'eff':{'charisma':0x1e,'happy':0x1e,'wealth':0xa},'min':0x12,'max':0x3c,'desc':O['HiWgZ']},{'name':'å¸‚ä¸­å¿ƒå…¬å¯“','price':0x4c4b40,'eff':{'wealth':0x14,'happy':0x14},'min':0x16,'max':0x64,'desc':O['zoSFd']},{'name':O['EKaRS'],'price':0x5f5e100,'eff':{'wealth':0x64,'charisma':0x32,'happy':0x32},'min':0x14,'max':0x64,'desc':'é¡¶çº§è±ªå®…'},{'name':O['cQKVb'],'price':0x14,'eff':{'money':O['FLzIU'](Math['random'](),0.8)?0x1f4:-0x14},'min':0xa,'max':0x64,'desc':'æä¸€æ'},{'name':'æµæµªç‹—','price':0x1f4,'type':O['udHrF'],'petType':'dog','min':0x5,'max':0x64,'desc':O['QJTHy']},{'name':'å°çŒ«å’ª','price':0x320,'type':'pet','petType':O['tFVXd'],'min':0x5,'max':0x64,'desc':O['kbjAd']}];let A=r['filter'](T=>gs['age']>=T['min']&&gs['age']<=T['max']);gs['shopItems']=A['sort'](()=>0.5-Math['random']())['slice'](0x0,0x8)['map'](T=>({...T,'stock':Math['floor'](Math['random']()*0x3)+0x1}));}function renderShop(){const O={'svsLA':function(A,T){return A===T;},'qswRA':'åˆ®åˆ®ä¹','pNraF':'div','QckWz':function(A,T){return A<=T;}},r=document['getElementById']('shop-list');r['innerHTML']='';if(O['svsLA'](gs['shopItems']['length'],0x0)){r['innerHTML']='<div\x20style=\x22text-align:center;color:#999\x22>æš‚æ— å•†å“</div>';return;}gs['shopItems']['forEach'](A=>{let T='';if(O['svsLA'](A['type'],'pet'))T='å® ç‰©';else{if(A['name']===O['qswRA'])T='éšæœºé‡‘é’±';else T=Object['entries'](A['eff'])['map'](([i,l])=>{let H=ATTR_MAP[i]||i,V=l>0x0?'+'+l:l;return''+H+V;})['join'](',\x20');}const m=document['createElement'](O['pNraF']);m['className']='list-item';const K=O['QckWz'](A['stock'],0x0)?'disabled':'',C=O['QckWz'](A['stock'],0x0)?'å”®ç½„':'ï¿¥'+A['price']['toLocaleString']();m['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-name\x22>'+A['name']+'\x20<span\x20style=\x22font-size:12px;color:#666;font-weight:normal;\x22>(åº“å­˜:'+A['stock']+')</span></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-desc\x22>'+A['desc']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-effect\x22>'+T+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn-retro\x22\x20'+K+'\x20onclick=\x27buyItem(\x22'+A['name']+'\x22)\x27>'+C+'</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',r['appendChild'](m);});}function buyItem(O){const r={'YDXBx':'å•†å“å·²å”®ç½„','PtXzZ':function(T,m){return T<m;},'WpKeD':function(T,m){return T(m);},'GfEtn':'ä½™é¢ä¸è¶³','ygRtU':function(T,m){return T===m;},'xZoOJ':function(T,m){return T>m;},'bGBeK':'å°èµšä¸€ç¬”\x20+500','suDeQ':function(T,m){return T!==m;},'WJsWu':function(T){return T();},'hsujC':function(T){return T();}},A=gs['shopItems']['find'](T=>T['name']===O);if(!A||A['stock']<=0x0)return showToast(r['YDXBx']);if(r['PtXzZ'](gs['money'],A['price']))return r['WpKeD'](showToast,r['GfEtn']);gs['money']-=A['price'],A['stock']--;if(r['ygRtU'](A['type'],'pet'))gs['pets']['push']({'name':A['name'],'type':A['petType'],'val':0x32}),showToast('ä½ å¸¦å›äº†'+A['name']+'ï¼');else{if(A['name']==='åˆ®åˆ®ä¹'){let T=Math['random']();if(T>0.99)A['eff']={'money':0x186a0},r['WpKeD'](showToast,'ä¸­å¤§å¥–äº†ï¼+10ä¸‡');else r['xZoOJ'](T,0.8)?(A['eff']={'money':0x1f4},showToast(r['bGBeK'])):(A['eff']={},r['WpKeD'](showToast,'è°¢è°¢æƒ é¡¾'));}r['WpKeD'](applyEffects,A['eff']);if(r['suDeQ'](A['name'],'åˆ®åˆ®ä¹'))showToast('è´­ä¹°æˆåŠŸï¼');}r['WJsWu'](updateUI),r['hsujC'](renderShop);}function renderPets(){const O={'vVUmp':'div','kuXoz':'list-item','EWwjn':'pet-list'},r=document['getElementById'](O['EWwjn']);r['innerHTML']='';if(gs['pets']['length']===0x0){r['innerHTML']='<div\x20style=\x22text-align:center;color:#999\x22>ä½ è¿˜æ²¡æœ‰å® ç‰©ï¼Œå»å•†åº—çœ‹çœ‹å§</div>';return;}gs['pets']['forEach']((A,T)=>{const m=document['createElement'](O['vVUmp']);m['className']=O['kuXoz'];let K=gs['flags']['petPlayed']?'<button\x20class=\x22btn-retro\x22\x20disabled>å·²ç©è€</button>':'<button\x20class=\x22btn-retro\x22\x20onclick=\x22playPet('+T+')\x22>ğŸ¾\x20ç©è€</button>';m['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-name\x22>'+A['name']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22heart-val\x22>äº²å¯†:\x20'+A['val']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22list-actions\x22>'+K+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',r['appendChild'](m);});}function playPet(O){const r={'ScQym':function(m){return m();},'OyzPL':function(m,K){return m(K);},'dIDox':function(m,K){return m(K);}},A='3|2|1|5|4|6|0'['split']('|');let T=0x0;while(!![]){switch(A[T++]){case'0':r['ScQym'](updateUI);continue;case'1':gs['happy']+=0x5;continue;case'2':gs['pets'][O]['val']+=0x5;continue;case'3':if(gs['flags']['petPlayed'])return r['OyzPL'](showToast,'ä»Šå¤©å·²ç»ç©è¿‡äº†ï¼Œä¼‘æ¯ä¸€ä¸‹å§');continue;case'4':r['dIDox'](showToast,'ç©å¾—å¾ˆå¼€å¿ƒï¼å¿ƒæƒ…+5');continue;case'5':gs['flags']['petPlayed']=!![];continue;case'6':r['ScQym'](renderPets);continue;}break;}}function updateUI(){const O={'NoIUK':'stat-bars','GuzWY':'stat-group','VgTjt':function(A,T){return A||T;},'KrvrH':function(A,T){return A+T;},'YHUfR':function(A,T){return A>T;},'ztOai':'disp-edu','iuxRG':'intel','uqbDl':function(A,T,m){return A(T,m);},'eDZop':'charisma'};document['getElementById']('money-txt')['innerText']='ï¿¥'+Math['floor'](gs['money'])['toLocaleString'](),document['getElementById']('disp-salary')['innerText']='ï¿¥'+Math['floor'](gs['salary'])['toLocaleString'](),document['getElementById']('disp-job')['innerText']=gs['job'],document['getElementById'](O['ztOai'])['innerText']=gs['edu'],document['getElementById']('disp-gender')['innerText']=gs['gender'];const r=(A,T,m)=>{let K=Math['max'](0x0,Math['min'](0x64,gs[A]));const C='fill-'+A;let i=document['getElementById'](C);if(!i){const l=document['getElementById'](O['NoIUK']),v=document['createElement']('div');v['className']=O['GuzWY'],v['innerHTML']='<div\x20class=\x22stat-label\x22><span>'+T+'</span><span\x20id=\x22num-'+A+'\x22></span></div><div\x20class=\x22stat-progress\x22><div\x20id=\x22'+C+'\x22\x20class=\x22stat-fill\x20'+O['VgTjt'](m,'')+'\x22></div></div>',l['appendChild'](v),i=document['getElementById'](C);}document['getElementById']('num-'+A)['innerText']=K,i['style']['width']=O['KrvrH'](K,'%');if(!m){if(K<0x14)i['style']['background']='var(--danger)';else{if(O['YHUfR'](K,0x50))i['style']['background']='var(--success)';else i['style']['background']='var(--primary)';}}};r('wealth','å®¶å¢ƒ'),r(O['iuxRG'],'æ™ºåŠ›'),O['uqbDl'](r,'health','ä½“è´¨'),O['uqbDl'](r,O['eDZop'],'é­…åŠ›'),r('happy','å¿ƒæƒ…');}async function callAI(O,r){const A={'PRODO':function(T,m,K){return T(m,K);},'hGwcW':'system','DOgxC':'user','bzxRm':function(T,m){return T(m);}};if(!useAI)return null;try{const T=await A['PRODO'](fetch,config['url']+'/chat/completions',{'method':'POST','headers':{'Content-Type':'application/json','Authorization':'Bearer\x20'+config['key']},'body':JSON['stringify']({'model':config['model'],'messages':[{'role':A['hGwcW'],'content':O},{'role':A['DOgxC'],'content':r}],'temperature':0.85,'response_format':{'type':'json_object'}})}),m=await T['json']();let K=m['choices'][0x0]['message']['content'];return K=K['replace'](/```json/g,'')['replace'](/```/g,''),JSON['parse'](K);}catch(C){return console['error'](C),A['bzxRm'](showToast,'AI\x20å“åº”é”™è¯¯'),null;}}async function die(){const O={'gCvVF':'p-death','XHATG':'hidden','VmHah':'final-rank','UAyTR':'final-epitaph','TYZlT':'<br>','ABrAl':'äººç”Ÿå¦‚æ¢¦ï¼Œä¸€å°Šè¿˜é…¹æ±Ÿæœˆã€‚','oAyUq':'ï¼ˆè¿æ¥AIä»¥æŸ¥çœ‹äººç”Ÿèµ°é©¬ç¯ï¼‰'};document['getElementById']('game-view')['classList']['add']('hidden'),document['getElementById'](O['gCvVF'])['classList']['remove'](O['XHATG']),document['getElementById'](O['VmHah'])['innerText']=gs['age']+'å²\x20Â·\x20'+gs['gender']+'\x20Â·\x20'+gs['job'];if(useAI){const r='\x0a\x20\x20\x20\x20\x20\x20\x20\x20ç©å®¶æ­»äº¡ã€‚è¯·é˜…è¯»ä»¥ä¸‹äººç”Ÿå±¥å†ï¼š'+JSON['stringify'](gs['history'])+'ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20è¯·ç”Ÿæˆï¼š\x0a\x20\x20\x20\x20\x20\x20\x20\x201.\x20epitaph:\x20ä¸€å¥ç®€çŸ­ã€æœ‰è¯—æ„ã€ç¬¦åˆä¸€ç”Ÿçš„å¢“å¿—é“­ï¼ˆ20å­—å†…ï¼‰ã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x202.\x20summary:\x20äººç”Ÿèµ°é©¬ç¯æ€»ç»“ï¼ŒåŒ…å«ã€æœ€é«˜æˆå°±ã€‘ã€ã€æœ€å¤§é—æ†¾ã€‘å’Œã€æœ€ç»ˆè¯„ä»·ã€‘ï¼Œåˆ†ç‚¹æè¿°ï¼Œæƒ…æ„ŸçœŸæŒšã€‚\x0a\x20\x20\x20\x20\x20\x20\x20\x20è¿”å›JSON:\x20{\x22epitaph\x22:\x20\x22...\x22,\x20\x22summary\x22:\x20\x22...\x22}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',A=await callAI('ä½ æ˜¯ä¸€ä¸ªä¼ è®°ä½œå®¶ã€‚',r);A&&(document['getElementById'](O['UAyTR'])['innerText']=A['epitaph'],document['getElementById']('final-summary')['innerHTML']=A['summary']['replace'](/\n/g,O['TYZlT']));}else document['getElementById'](O['UAyTR'])['innerText']=O['ABrAl'],document['getElementById']('final-summary')['innerText']=O['oAyUq'];}